# Модуль `lib`

## Ответственность

`lib` хранит доменную логику и утилиты, не привязанные к конкретной вёрстке:
- работа с IndexedDB (`db.ts`)
- импорт/экспорт и шифрование (`backup.ts`)
- уведомления и звуки (`reminders.ts`)
- конфигурация заметок/тем (`note-config.ts`)
- утилиты дат/тем/раскладки (`date-utils.ts`, `theme-utils.ts`, `note-utils.ts`)

## Входы/выходы

- Вход: данные заметок, пользовательские действия, системное время.
- Выход: нормализованные структуры заметок, рассчитанные представления, side-effects (уведомления, звук).

## Ограничения производительности

- Все операции сортировки и masonry-раскладки должны оставаться линейными/квазилинейными.
- Избегать тяжелых вычислений в циклах рендера.

## Подводные камни

- Напоминания работают локально и зависят от активности приложения.
- Изменения схемы IndexedDB требуют аккуратной миграции версии.
